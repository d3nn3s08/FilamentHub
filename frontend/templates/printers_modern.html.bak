<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drucker â€“ Modern Preview</title>
    <link rel="stylesheet" href="/frontend/printers_modern.css">
</head>
<body class="page">
    <aside class="sidebar">
        <div class="sidebar__brand">
            <div class="brand__icon">ðŸ§µ</div>
            <div class="brand__name">FilamentHub</div>
        </div>
        <nav class="sidebar__nav">
            <a class="nav__item" href="/">Dashboard</a>
            <a class="nav__item" href="/spools">Spulen</a>
            <a class="nav__item" href="/materials">Materialien</a>
            <a class="nav__item nav__item--active" href="/printers-modern">Drucker (Preview)</a>
            <a class="nav__item" href="/jobs">Jobs</a>
        </nav>
        <div class="sidebar__footer">
            <div class="foot-label">Preview-Seite</div>
            <div class="foot-desc">Kann nach Abnahme wieder entfernt werden.</div>
        </div>
    </aside>

    <main class="content">
        <header class="content__header">
            <div>
                <p class="eyebrow">Modernes Layout (Test)</p>
                <h1 class="title">DruckerÃ¼bersicht</h1>
                <p class="subtitle">Daten kommen live von <code>/api/printers/</code>. Design angelehnt an das Mockup.</p>
            </div>
            <div class="actions">
                <a class="btn ghost" href="/printers">Zur aktuellen Ansicht</a>
                <button class="btn primary" id="refreshBtn">Aktualisieren</button>
            </div>
        </header>

        <section id="cardsContainer" class="card-grid">
            <div class="empty">Lade Drucker â€¦</div>
        </section>
    </main>

    <!-- Edit-Modal -->
    <div class="modal" id="printerEditModal" aria-hidden="true">
        <div class="modal__dialog">
            <div class="modal__header">
                <h2 id="modalTitle">Drucker bearbeiten</h2>
                <button class="modal__close" onclick="closeEditModal()">&times;</button>
            </div>
            <div class="modal__body">
                <form id="printerEditForm" onsubmit="savePrinterEdit(event)">
                    <label class="field">
                        <span>Name</span>
                        <input type="text" id="editName" required>
                    </label>
                    <label class="field">
                        <span>Typ</span>
                        <select id="editType" required>
                            <option value="">-- wÃ¤hlen --</option>
                            <option value="bambu">Bambu Lab (MQTT)</option>
                            <option value="klipper">Klipper</option>
                            <option value="manual">Manuell</option>
                        </select>
                    </label>
                    <div class="field-row">
                        <label class="field">
                            <span>IP-Adresse</span>
                            <input type="text" id="editIp" placeholder="192.168.0.10">
                        </label>
                        <label class="field">
                            <span>Port</span>
                            <input type="number" id="editPort" placeholder="6000">
                        </label>
                    </div>
                    <label class="field">
                        <span>Seriennummer</span>
                        <input type="text" id="editSerial" placeholder="optional">
                    </label>
                    <label class="field">
                        <span>Access Code / API Key</span>
                        <input type="text" id="editApiKey" placeholder="optional">
                    </label>
                    <label class="toggle">
                        <input type="checkbox" id="editAutoConnect">
                        <span>Auto Connect</span>
                    </label>
                    <input type="hidden" id="editId">
                    <div class="modal__actions">
                        <button type="button" class="btn ghost" onclick="closeEditModal()">Abbrechen</button>
                        <button type="submit" class="btn success">Speichern</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="/frontend/printers_modern.js"></script>
</body>
</html>
